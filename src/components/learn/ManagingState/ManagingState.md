## Reacting to Input with State
ReactはUIを操作するのに、宣言的な方法をとる。それそれのUIを操作するのではなく、コンポーネントに異なるstateを渡し、ユーザ入力に対する反応としてUIを切り替える。デザイナーがUIについて考える方法に似ている。

UIの反応を考えるとき、例えば、「フォームに入力されたら、submitボタンを有効にする」や「submitボタンを押した時、ボタンを無効にしてローディング表示にする」など考える。命令型プログラミングでは、これらはどのように反応するか直接対応している。起こったことによってUIを操作するための正確な方法を記述する必要がある。
別の状況を考えてみよう。車の助手席に座って、運転する人に道順を伝え案内する状況を想像する。運転する人はどこに行くのか知らないので、助手席にいるあなたの指示に従うだけ。もし、あなたが間違った道を伝えると、違う場所に着いてしまう。これは、命令的と呼ぶ。

命令的なUI操作は独立した例では十分だが、より複雑なシステムでは、管理が難しくなる。
Reactはこの問題を解決する。
Reactは、UIを直接操作することはない。これは、コンポーネントを直接、有効/無効や表示/非表示にすることはないということだ。その代わり、何を見せるかを宣言する。例えば、タクシーに乗って、運転手さんにどこに行きたいか伝えるような感じで。

宣言的にUIを構築する方法について
### Step 1: コンポーネントの表示状態の違いを識別する
まず、ユーザが見るであろうUIの状態の違いを視覚化する。例えば、「フォームが空の場合、submitボタンは無効にしておく」や「フォームの送信が成功したら、Thank youメッセージを表示して、フォームは消す」など、ロジックを追加する前にデザイナーがそれぞれの状態に合わせてモック・ガワを作成するように。

### Step 2: state変更のトリガーを決める
state更新は、次の2つの入力に応じて促すことができる。
- 人間による入力：ボタンクリック・フィールドへの入力・リンク遷移など
- コンピュータによる入力：ネットワークレスポンスが届いた・タイムアウト・画像読み込みなど。

上記どちらにおいても、UIを更新するためにはstate変数に値をセットする必要がある。フォームの開発においても、異なる入力に応じてstateを変更する必要がある。例えば、「文字が入力されたら、空のstateから文字が入力されたstateもしくは、テキストボックスが空であるか入力されているかを切り替える」や「submitが成功してネットワークレスポンスが成功して返ってきたら、stateをSuccessに切り替える」など。

### Step 3: useStateを使ってstateを表す
次に、useStateを使って、コンポーネントのstateを表す必要がある。

### Step 4: 不要なstate変数は削除する
表示したくないstateを表示してしまうことを防ぐため、リファクタリングを行い、不要なstate変数は削除してしまう。
「同じ情報を持つstateがほかに存在しないか」や「同じ情報が別のstate変数から求められないか」などを基準に、不要であれば削除していく。

### Step 5: stateに値をセットするために、イベントハンドラと繋げる

宣言型プログラミングは、命令的にUIを細かく管理するのではなく、UIの表示状態を説明する。
コンポーネントを開発するときには、「全ての表示状態を識別」「stateを変更するトリガーとなる、人間・コンピュータによる入力を決める」「useStateを使ってstateを表す」「不要なstate変数はバグ防止のために削除する」「イベントハンドラと繋げる」といった作業が必要になる。