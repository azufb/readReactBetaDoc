コンポーネントに双方向性を加えていく方法について
双方向性：ユーザの入力に対して、システムが何らかの結果・反応を返すこと。一方通行ではなく、ユーザも何かを得られる。

interaction：
複数の存在が互いに影響を及ぼしあうこと。動作しているプログラムとそれを使用しているユーザとの間を結ぶ手段。

## Responding to Events
JSXには、クリックやホバー、フォーカスなどのような操作に反応して発火する関数イベントハンドラを追加することができる。
イベントには、onClickやonChangeなどがある。
イベントハンドラを追加するためには、コンポーネントの内部に関数を宣言し、処理を記述。その関数をJSXのタグにpropとして渡す。
イベントハンドラは、handleから始める。関数として切り出さずに、JSXの中で定義することもできる。
イベントには、関数を「渡す」だけ。呼び出さないようにする。呼び出してしまうと、操作をせずともレンダリング中に発火してしまう。

イベントに渡す関数自体をpropとし、コンポーネントに渡すことができる。これは、同じコンポーネントをいくつかの場所に配置して、それぞれ異なる関数を実行することを可能にする。
コンポーネントにpropとしてイベントハンドラを渡す場合、onClickなど決められたイベントを使わずに、処理やアプリの特徴に合わせて名付けることも可能。

イベントハンドラは、そのコンポーネントにあるどの子要素のイベントにも反応して発火することができてしまう。イベントハンドラを持つ要素の子要素にもイベントハンドラを用意してしまうと、子要素のイベントハンドラが発火したのち、その親要素のイベントハンドラにも伝わって発火してしまう。onScrollを除いて、すべてのイベントは伝播してしまう性質。
ただし、伝播してしまわないようにすることも可能。イベントハンドラは引数として、イベントの情報を取得できるeventオブジェクトを受け取ることができる。親コンポーネントまでイベントが伝播するのを防ぐためには、子コンポーネントでイベントオブジェクトが持つstopPropagationメソッドを呼び出す。
イベントの伝播の代わりに、親コンポーネントのイベントハンドラを呼び出す前に処理を追加することもできる。これは、イベントの結果として実行されたイベントハンドラの一連のコード全体を追いやすくなるというメリットがある。
イベントの伝播に頼ってしまうと、どのイベントハンドラが実行されたのか、なぜ実行されたのかがわかりにくくなる。

いくつかのイベントは関連づけられたデフォルトの動作を持っており、何も指定していないと実行できてしまう。formタグのsubmitイベントの場合だと、formタグ内のbuttonタグに何もイベントハンドラを指定していなくても、デフォルトの動作によってページ全体をリロードする。これらのデフォルトの動作を発生させないようにするためには、eventオブジェクトのpreventDefaultメソッドを呼び出す。
stopPropagationメソッドとpreventDefaultメソッド、似ているが、役割は異なるため注意する。stopPropagationメソッドは、親コンポーネントへのイベントの伝播を防ぐ。preventDefaultメソッドは、イベントのデフォルト動作を実行させないようにする。

イベントハンドラは、純粋関数である必要はなく、副作用を持つのに最適である。例えば、タイピングに反応してインプットの値を変えたり、ボタン押下に反応してリストを変えるなど。ただ、何かの情報を変えるためには、まず情報を保存する必要がある。コンポーネントの記憶である、stateによって情報を記憶・保存できる。

※イベント：onClickやonChangeのような組み込まれたブラウザイベント。
イベントハンドラ：ユーザの操作によって実行される処理。

## State: A Component's Memory
反応に応じて、コンポーネントを変更する必要がある。コンポーネントは、現在の入力値や現在の画像、現在のショッピングカートの状態を記憶する必要がある。このコンポーネント特有の記憶をstateと呼ぶ。

イベントハンドラでローカル変数を更新しても、その変化が表示に反映されない。これには2つの原因がある。
- Reactは、再度レンダリングすると、ローカル変数の変化は無視して最初からレンダリングし直す。
- ローカル変数の変更は、再レンダリングを促さない。新しいデータでコンポーネントを再度レンダリングする必要があることに気が付かない。

コンポーネントを新しいデータで更新するためには、
- レンダリング間でデータを保持すること
- 新しいデータでコンポーネントを再レンダリングすることを促すこと
が必要。useStateフックはこれらを実現できる。
- state変数はレンダリング間でデータを保持できる。
- stateセッター関数は変数の更新とReactにコンポーネントの再レンダリングを促すことができる。

フックとは、useから始まる関数。特別な関数で、Reactがレンダリングしている間のみ有効な関数。

useStateを呼ぶと、そのコンポーネントにstate変数を記憶して欲しいことがReactに伝わる。
useStateの引数は、初期値のみ。コンポーネントがレンダリングされるたびに、useStateは、値が保管されているstate変数とstate変更を更新してコンポーネントの再レンダリングを促すstateセッター関数を要素とする配列を返す。分割代入ににている。

stateはコンポーネントのインスタンスのローカルのデータであり、同じコンポーネントでstate変更・レンダリング実行しても、他の同じコンポーネントは影響を受けない。コンポーネントごとにstateは別々に保管されている。